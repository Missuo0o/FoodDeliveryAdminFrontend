{"remainingRequest":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/babel-loader/lib/index.js!/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/ts-loader/index.js??ref--14-2!/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/layout/components/Sidebar/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/layout/components/Sidebar/index.vue","mtime":1706160678333},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1706160675340},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/babel-loader/lib/index.js","mtime":1706160675266},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/ts-loader/index.js","mtime":1706160677894},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":1706160675340},{"path":"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/vue-loader/lib/index.js","mtime":1706160678107}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.array.find\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/toConsumableArray\"));\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/@babel/runtime-corejs2/helpers/inherits\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _vuePropertyDecorator = require(\"vue-property-decorator\");\n\nvar _app = require(\"@/store/modules/app\");\n\nvar _user = require(\"@/store/modules/user\");\n\nvar _SidebarItem = _interopRequireDefault(require(\"./SidebarItem.vue\"));\n\nvar _variables = _interopRequireDefault(require(\"@/styles/_variables.scss\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nvar default_1 =\n/*#__PURE__*/\nfunction (_Vue) {\n  (0, _inherits2.default)(default_1, _Vue);\n\n  function default_1() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, default_1);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(default_1).apply(this, arguments));\n    _this.restKey = 0;\n    return _this;\n  }\n\n  (0, _createClass2.default)(default_1, [{\n    key: \"logout\",\n    value: function () {\n      var _logout = (0, _asyncToGenerator2.default)(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$store.dispatch('LogOut').then(function () {\n                  // location.href = '/'\n                  _this2.$router.replace({\n                    path: '/login'\n                  });\n                }); // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"name\",\n    get: function get() {\n      return _user.UserModule.userInfo.name ? _user.UserModule.userInfo.name : JSON.parse(_jsCookie.default.get('user_info')).name;\n    }\n  }, {\n    key: \"defOpen\",\n    get: function get() {\n      var _this3 = this;\n\n      // const urlArr = this.$route.path.split('/')\n      // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n      var path = ['/'];\n      this.routes.forEach(function (n, i) {\n        if (n.meta.roles && n.meta.roles[0] === _this3.roles[0]) {\n          path.splice(0, 1, n.path);\n        }\n      });\n      return path;\n    }\n  }, {\n    key: \"defAct\",\n    get: function get() {\n      var path = this.$route.path;\n      return path;\n    }\n  }, {\n    key: \"sidebar\",\n    get: function get() {\n      return _app.AppModule.sidebar;\n    }\n  }, {\n    key: \"roles\",\n    get: function get() {\n      return _user.UserModule.roles;\n    }\n  }, {\n    key: \"routes\",\n    get: function get() {\n      var routes = JSON.parse(JSON.stringify((0, _toConsumableArray2.default)(this.$router.options.routes)));\n      console.log('-=-=routes=-=-=', routes);\n      console.log('-=-=routes=-=-=', this.roles[0]);\n      var menuList = [];\n      var menu = routes.find(function (item) {\n        return item.path === '/';\n      });\n\n      if (menu) {\n        menuList = menu.children;\n      }\n\n      console.log('-=-=routes=-wwww=-=', routes);\n      return menuList;\n    }\n  }, {\n    key: \"variables\",\n    get: function get() {\n      return _variables.default;\n    }\n  }, {\n    key: \"isCollapse\",\n    get: function get() {\n      return !this.sidebar.opened;\n    }\n  }]);\n  return default_1;\n}(_vuePropertyDecorator.Vue);\n\ndefault_1 = (0, _tslib.__decorate)([(0, _vuePropertyDecorator.Component)({\n  name: 'SideBar',\n  components: {\n    SidebarItem: _SidebarItem.default\n  }\n})], default_1);\nvar _default = default_1;\nexports.default = _default;",{"version":3,"sources":["/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huoxiyi/IdeaProjects/MissuoFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huoxiyi/IdeaProjects/MissuoFrontend/src/layout/components/Sidebar/index.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAOA,IAAA,SAAA;AAAA;AAAA;AAAA;;AAAA,uBAAA;AAAA;;AAAA;;AACU,UAAA,OAAA,GAAkB,CAAlB;AADV;AA6DC;;AA7DD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAuDI,qBAAK,MAAL,CAAY,QAAZ,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,YAAK;AACvC;AACA,kBAAA,MAAI,CAAC,OAAL,CAAa,OAAb,CAAqB;AAAE,oBAAA,IAAI,EAAE;AAAR,mBAArB;AACD,iBAHD,EAvDJ,CA2DI;;AA3DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEU;AACN,aAAQ,iBAAW,QAAX,CAA4B,IAA5B,GACH,iBAAW,QAAX,CAA4B,IADzB,GAEJ,IAAI,CAAC,KAAL,CAAW,kBAAQ,GAAR,CAAY,WAAZ,CAAX,EAA4C,IAFhD;AAGD;AANH;AAAA;AAAA,wBAOa;AAAA;;AACT;AACA;AACA,UAAI,IAAI,GAAG,CAAC,GAAD,CAAX;AACA,WAAK,MAAL,CAAY,OAAZ,CAAoB,UAAC,CAAD,EAAS,CAAT,EAAsB;AACxC,YAAI,CAAC,CAAC,IAAF,CAAO,KAAP,IAAgB,CAAC,CAAC,IAAF,CAAO,KAAP,CAAa,CAAb,MAAoB,MAAI,CAAC,KAAL,CAAW,CAAX,CAAxC,EAAuD;AACrD,UAAA,IAAI,CAAC,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAC,CAAC,IAApB;AACD;AACF,OAJD;AAKA,aAAO,IAAP;AACD;AAjBH;AAAA;AAAA,wBAmBY;AACR,UAAI,IAAI,GAAG,KAAK,MAAL,CAAY,IAAvB;AACA,aAAO,IAAP;AACD;AAtBH;AAAA;AAAA,wBAwBa;AACT,aAAO,eAAU,OAAjB;AACD;AA1BH;AAAA;AAAA,wBA4BW;AACP,aAAO,iBAAW,KAAlB;AACD;AA9BH;AAAA;AAAA,wBAgCY;AACR,UAAI,MAAM,GAAG,IAAI,CAAC,KAAL,CACX,IAAI,CAAC,SAAL,kCAAoB,KAAK,OAAL,CAAqB,OAArB,CAA6B,MAAjD,EADW,CAAb;AAGA,MAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,MAA/B;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,KAAK,KAAL,CAAW,CAAX,CAA/B;AACA,UAAI,QAAQ,GAAG,EAAf;AACA,UAAI,IAAI,GAAG,MAAM,CAAC,IAAP,CAAY,UAAA,IAAI;AAAA,eAAI,IAAI,CAAC,IAAL,KAAc,GAAlB;AAAA,OAAhB,CAAX;;AACA,UAAI,IAAJ,EAAU;AACR,QAAA,QAAQ,GAAG,IAAI,CAAC,QAAhB;AACD;;AACD,MAAA,OAAO,CAAC,GAAR,CAAY,qBAAZ,EAAmC,MAAnC;AACA,aAAO,QAAP;AACD;AA7CH;AAAA;AAAA,wBA+Ce;AACX,aAAO,kBAAP;AACD;AAjDH;AAAA;AAAA,wBAmDgB;AACZ,aAAO,CAAC,KAAK,OAAL,CAAa,MAArB;AACD;AArDH;AAAA;AAAA,EAA6B,yBAA7B,CAAA;;AAAA,SAAA,GAAA,uBAAA,CANC,qCAAU;AACT,EAAA,IAAI,EAAE,SADG;AAET,EAAA,UAAU,EAAE;AACV,IAAA,WAAW,EAAX;AADU;AAFH,CAAV,CAMD,CAAA,EA6DC,SA7DD,CAAA","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { AppModule } from '@/store/modules/app'\nimport { UserModule } from '@/store/modules/user'\nimport SidebarItem from './SidebarItem.vue'\nimport variables from '@/styles/_variables.scss'\nimport { getSidebarStatus, setSidebarStatus } from '@/utils/cookies'\nimport Cookies from 'js-cookie'\n@Component({\n  name: 'SideBar',\n  components: {\n    SidebarItem\n  }\n})\nexport default class extends Vue {\n  private restKey: number = 0\n  get name() {\n    return (UserModule.userInfo as any).name\n      ? (UserModule.userInfo as any).name\n      : JSON.parse(Cookies.get('user_info') as any).name\n  }\n  get defOpen() {\n    // const urlArr = this.$route.path.split('/')\n    // const openStr = urlArr.length > 2 ? `/${urlArr[1]}` : '/'\n    let path = ['/']\n    this.routes.forEach((n: any, i: number) => {\n      if (n.meta.roles && n.meta.roles[0] === this.roles[0]) {\n        path.splice(0, 1, n.path)\n      }\n    })\n    return path\n  }\n\n  get defAct() {\n    let path = this.$route.path\n    return path\n  }\n\n  get sidebar() {\n    return AppModule.sidebar\n  }\n\n  get roles() {\n    return UserModule.roles\n  }\n\n  get routes() {\n    let routes = JSON.parse(\n      JSON.stringify([...(this.$router as any).options.routes])\n    )\n    console.log('-=-=routes=-=-=', routes)\n    console.log('-=-=routes=-=-=', this.roles[0])\n    let menuList = []\n    let menu = routes.find(item => item.path === '/')\n    if (menu) {\n      menuList = menu.children\n    }\n    console.log('-=-=routes=-wwww=-=', routes)\n    return menuList\n  }\n\n  get variables() {\n    return variables\n  }\n\n  get isCollapse() {\n    return !this.sidebar.opened\n  }\n  private async logout() {\n    this.$store.dispatch('LogOut').then(() => {\n      // location.href = '/'\n      this.$router.replace({ path: '/login' })\n    })\n    // this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n  }\n}\n"],"sourceRoot":""}]}